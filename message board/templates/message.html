{% extends "template.html" %}

{% block head %}

<script src="{{ url_for('static',filename='modal.js') }}"></script>

{% endblock %}

{% block body %}

<button class="fab btn-light" data-bs-toggle="modal" data-bs-target="#formModal"><i
        class="bi bi-pencil align-middle"></i></button>

{% include "form.html" %}
{% include "popup.html" %}

{% if not data %}
<div class="content-center">
    <p></p>
    <p class="text-white text-center">No one leave any message yet.</p>
</div>
{% else %}

<div class="col-10 row row-cols-lg-5 row-cols-md-4 row-cols-sm-3 row-cols-1 mx-auto">
    {% for rec in data %}
    <div class="col px-1 py-1">
        <div class="card h-100 bg-card popup" id="{{ rec.id }}">
            <img src="{{ url_for('image_route',id=rec.id,type='timg') }}" class="card-img my-1  px-1 py-1 img-fluid"
                loading="lazy" data-bs-toggle="modal" data-bs-target="#cardModal">
            <div class="card-img-overlay px-2 py-1">
                <div class="text-light px-1 pt-1 text-start">
                    {{ rec.msg.replace("\n","<br>")|safe }}
                </div>
                <div class="card-footer px-1 py-1 text-end">
                    <small class="blockquote-footer text-muted">
                        {{ rec.name }}
                    </small>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}

</div>

{% endif %}

{% endblock %}